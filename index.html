<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>紫--小梦</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="紫--小梦">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="紫--小梦">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="紫--小梦">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="紫--小梦" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">紫--小梦</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">心怀梦想，志在远方。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/06/JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage/" class="article-date">
  <time datetime="2016-08-06T13:49:25.000Z" itemprop="datePublished">2016-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/06/JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage/">JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Touch事件"><a href="#Touch事件" class="headerlink" title="Touch事件"></a>Touch事件</h3><p>touch事件在用户触摸屏幕时触发。其与mouse事件的最大区别在于其支持<em>多点触控</em>。主要有以下几种：</p>
<p>touchstart：相当于mousedown事件</p>
<p>touchmove：相当于mousemove事件</p>
<p>touchend：相当于mouseup事件</p>
<p>应用如下：</p>
<pre>
    &lt;style&gt;
        .divtouch{
            width:300px;
            height:500px;
            border:1px solid blue;
            position:relative;
            margin:0 auto;
        }
        .divtouch p{
            font-size:30px;
            text-align:center;
        }
        .divtouch div{
            position:absolute;
            width:50px;
            height:50px;
            background-color:pink;
            top:0;
            left:0;
        }
    &lt;/style&gt;
    &lt;div class="divtouch"&gt;
        &lt;p&gt;&lt;/p&gt;
        &lt;div&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
        var para=document.querySelector(".divtouch p");
        var divtouchBlock=document.querySelector(".divtouch div");
        var s={
            startX:0,
            startY:0,
            endX:0,
            endY:0,
            disX:0,
            disY:0,
            ofl:0,
            oft:0,
        }
        divtouchBlock.addEventListener("touchstart",function(e){
            var e=e||window.event;
            para.innerHTML=e.touches.length+"根手指";
            s.ofl=divtouchBlock.offsetLeft;
            s.oft=divtouchBlock.offsetTop;
            s.startX=e.touches[0].clientX;
            s.startY=e.touches[0].clientY;
            e.preventDefault();
        },false)
        document.addEventListener("touchmove",function(e){
            var e=e||window.event;
            if(e.touches.length!=1){
                return;
            }
            s.endX=e.touches[0].clientX;
            s.endY=e.touches[0].clientY;
            s.disX=s.endX-s.startX+s.ofl;
            s.disY=s.endY-s.startY+s.oft;
            divtouchBlock.style.left=s.disX+"px";
            divtouchBlock.style.top=s.disY+"px";
        },false)
    &lt;/script&gt;
</pre>

<pre>
    <style>
        .divtouch{
            width:300px;
            height:500px;
            border:1px solid blue;
            position:relative;
            margin:0 auto;
        }
        .divtouch p{
            font-size:30px;
            text-align:center;
        }
        .divtouch div{
            position:absolute;
            width:50px;
            height:50px;
            background-color:pink;
            top:0;
            left:0;
        }
    </style>
    <div class="divtouch">
        <p></p>
        <div></div>
    </div>
    <script>
        var para=document.querySelector(".divtouch p");
        var divtouchBlock=document.querySelector(".divtouch div");
        var s={
            startX:0,
            startY:0,
            endX:0,
            endY:0,
            disX:0,
            disY:0,
            ofl:0,
            oft:0,
        }
        divtouchBlock.addEventListener("touchstart",function(e){
            var e=e||window.event;
            para.innerHTML=e.touches.length+"根手指";
            s.ofl=divtouchBlock.offsetLeft;
            s.oft=divtouchBlock.offsetTop;
            s.startX=e.touches[0].clientX;
            s.startY=e.touches[0].clientY;
            e.preventDefault();
        },false)
        document.addEventListener("touchmove",function(e){
            var e=e||window.event;
            if(e.touches.length!=1){
                return;
            }
            s.endX=e.touches[0].clientX;
            s.endY=e.touches[0].clientY;
            s.disX=s.endX-s.startX+s.ofl;
            s.disY=s.endY-s.startY+s.oft;
            divtouchBlock.style.left=s.disX+"px";
            divtouchBlock.style.top=s.disY+"px";
        },false)
    </script>
</pre>

<h3 id="设备事件——方向API（陀螺仪）"><a href="#设备事件——方向API（陀螺仪）" class="headerlink" title="设备事件——方向API（陀螺仪）"></a>设备事件——方向API（陀螺仪）</h3><p>方向事件指DeviceOrientationEvent，其触发事件为<strong>deviceorientation</strong></p>
<pre>
    if(window.DeviceOrientationEvent){
        window.addEventListener("deviceorientation",function(e){
            var e=e||window.event;
            e.alpha;//0~360度，0度指向正北方（Z轴）
            e.beta;//设备前后转-180~180度（X轴）
            e.gamma;//设备左右转-90~90度（Y轴）
        },false)
    }
</pre>

<h3 id="设备事件——加速度API"><a href="#设备事件——加速度API" class="headerlink" title="设备事件——加速度API"></a>设备事件——加速度API</h3><p>加速度事件指DeviceMotionEvent，其触发事件为<strong>devicemotion</strong></p>
<pre>
    if(window.DeviceMotionEvent){
        window.addEventListener("devicemotion",function(e){
            var e=e||window.event;
            e.acceleration.x;//加速度，x代表x方向
            e.acceleration.y;
            e.acceleration.z;

            e.accelerationIncludingGravity.x;//重力加速度，x轴代表x方向
            e.accelerationIncludingGravity.y;
            e.accelerationIncludingGravity.z;
        },false)
    }
</pre>

<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p>cookie是存储于访问者的计算机中的变量。每当同一台计算机通过浏览器请求某个页面时，就会发送这个cookie。可以使用JavaScript来创建和取回cookie的值。</p>
<p><strong>服务器环境下才能设置cookie，每一个域名下最多20个cookie，每一个cookie不超过4kb。</strong></p>
<p>每个cookie都是一个名/值对，如果要一次存储多个名/值对，可以使用分号加空格（; ）隔开。<code>document.cookie=&quot;userId=123; userName=Jack&quot;;</code></p>
<p><strong>cookie的名或值中不能使用分号（;）、逗号（,）、等号（=）及空格。如需存储用escape()函数进行编码，从而避免乱码出现。</strong></p>
<pre>
    //设置cookie的名字，值，过期时间
    setCookie("usename/password",userVal,10);
    function setCookie(key,value,days){
        var newDate=new Date();
        var nowDay=nowDate.getDate();
        nowDate.setDate(nowDay+days);
        document.cookie=key+"="+value+";expires"+nowDate;
    }
    //删除cookie，将date设置为过去的时间来删除
    setCookie("name","",-1);
</pre>

<h3 id="localStorageb本地存储"><a href="#localStorageb本地存储" class="headerlink" title="localStorageb本地存储"></a>localStorageb本地存储</h3><p>localStorage是HTML5提供的在客户端存储数据的新方法，<strong>localStorage是没有时间限制的数据存储</strong></p>
<p>比cookie方便之处在于可以直接调用和删除。</p>
<pre>
    //设置localStorage
    localStorage.username=user.value;
    //获取localStorage
    alert(localStorage.username);
    //删除localStorage
    localStorage.removeItem("username");
</pre>

<p>可通过如下代码来对访问页面次数进行计数：</p>
<pre>
    &lt;script&gt;
        if(localStorage.pagecount){
            localStorage.pagecount=Number(localStorage.pagecount)+1;//localStorage.pagecount为自定义参数
        }else{
            localStorage.pagecount=1;
        }
        console.log(localStorage.pagecount);
    &lt;/script&gt;
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/06/JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage/" data-id="cirm6lnld000kkte86cxpto82" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript滚轮事件的封装和滚轮轮播图" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/05/JavaScript滚轮事件的封装和滚轮轮播图/" class="article-date">
  <time datetime="2016-08-05T12:03:48.000Z" itemprop="datePublished">2016-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/05/JavaScript滚轮事件的封装和滚轮轮播图/">JavaScript滚轮事件的封装和滚轮轮播图</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="滚轮事件的封装"><a href="#滚轮事件的封装" class="headerlink" title="滚轮事件的封装"></a>滚轮事件的封装</h3><p>因鼠标滚动事件区分为火狐滚轮事件和非火狐滚轮事件，而且其向上滚动和向下滚动的正负值不同，因此封装滚轮事件以便调用。</p>
<pre>
    function mouseWheel(obj,fn){
        var isDown=true;
        var isFirefox=navigator.userAgent.search("Firefox")==-1?false:true;
        if(isFirefox){
            obj.addEventListener("DOMMouseScroll",wheel,false);
        }else{
            obj.onmousewheel=wheel;
        }

        function wheel(e){
            var e=e||window.event;
            if(isFirefox){
                isDown=e.detail>0?true:false;
            }else{
                isDown=e.wheelDelta>0?false:true;
            }
            fn.call(obj,e,isDown);
        }
    }
</pre>

<h3 id="滚轮轮播图"><a href="#滚轮轮播图" class="headerlink" title="滚轮轮播图"></a>滚轮轮播图</h3><p>通过利用上图的滚轮事件的封装函数，来设置轮播图的纵向滚动。</p>
<pre>
    &lt;style&gt;
        .wheelSlide{
            width:800px;
            height:500px;
            position:relative;
            overflow:hidden;
            border:1px solid gold;
            margin:0 auto;        
        }
        .wheelSlides{
            width:800px;
            height:2500px;
            position:absolute;
            top:0;
            left:0;
            transition-duration:3s;
        }
        .wheelSlides div{
            width:800px;
            height:500px;
            line-height:500px;
            text-align:center;
            font-size:100px;
            color:white;
        }
        .wheelSlides div:nth-child(1){
            background:paleturquoise;
        }
        .wheelSlides div:nth-child(2){
            background:lightpink;
        }
        .wheelSlides div:nth-child(3){
            background:palegreen;
        }
        .wheelSlides div:nth-child(4){
            background:peachpuff;
        }
        .wheelSlides div:nth-child(5){
            background:plum;
        }
    &lt;/style&gt;
    &lt;div class="wheelSlide"&gt;
        &lt;div class="wheelSlides"&gt;
            &lt;div&gt;1&lt;/div&gt;
            &lt;div&gt;2&lt;/div&gt;
            &lt;div&gt;3&lt;/div&gt;
            &lt;div&gt;4&lt;/div&gt;
            &lt;div&gt;5&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
        var wheelSlide=document.querySelector(".wheelSlide");
        var wheelSlides=document.querySelector(".wheelSlides");
        var wheelSlidesDiv=document.querySelectorAll(".wheelSlides div");
        var s={
            isAct:false,
            index:0,
        }

        mouseWheel(wheelSlide,function(e,isDown){
            if(s.isAct){
                return;
            }
            s.isAct=!s.isAct;
            setTimeout(function(){
                s.isAct=!s.isAct;
            },3000)
            if(isDown){
                s.index++;
                s.index=s.index&gt;wheelSlidesDiv.length-1?wheelSlidesDiv.length-1:s.index;
            }else{
                s.index--;
                s.index=s.index&lt;0?0:s.index;
            }
            wheelSlides.style.top=-s.index*500+"px";
            e.preventDefault();
        })

        function mouseWheel(obj,fn){
            var isDown=true;
            var isFirefox=navigator.userAgent.search("Firefox")==-1?false:true;
            if(isFirefox){
                obj.addEventListener("DOMMouseScroll",wheel,false);
            }else{
                obj.onmousewheel=wheel;
            }

            function wheel(e){
                var e=e||window.event;
                if(isFirefox){
                    isDown=e.detail&gt;0?true:false;
                }else{
                    isDown=e.wheelDelta&gt;0?false:true;
                }
                fn.call(obj,e,isDown);
            }
        }
    &lt;/script&gt;
</pre>

<pre>
    <style>
        .wheelSlide{
            width:800px;
            height:500px;
            position:relative;
            overflow:hidden;
            border:1px solid gold;
            margin:0 auto;        
        }
        .wheelSlides{
            width:800px;
            height:2500px;
            position:absolute;
            top:0;
            left:0;
            transition-duration:3s;
        }
        .wheelSlides div{
            width:800px;
            height:500px;
            line-height:500px;
            text-align:center;
            font-size:100px;
            color:white;
        }
        .wheelSlides div:nth-child(1){
            background:paleturquoise;
        }
        .wheelSlides div:nth-child(2){
            background:lightpink;
        }
        .wheelSlides div:nth-child(3){
            background:palegreen;
        }
        .wheelSlides div:nth-child(4){
            background:peachpuff;
        }
        .wheelSlides div:nth-child(5){
            background:plum;
        }
    </style>
    <div class="wheelSlide">
        <div class="wheelSlides"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div></div>
    </div>
    <script>
        var wheelSlide=document.querySelector(".wheelSlide");
        var wheelSlides=document.querySelector(".wheelSlides");
        var wheelSlidesDiv=document.querySelectorAll(".wheelSlides div");
        var s={
            isAct:false,
            index:0,
        }

        mouseWheel(wheelSlide,function(e,isDown){
            if(s.isAct){
                return;
            }
            s.isAct=!s.isAct;
            setTimeout(function(){
                s.isAct=!s.isAct;
            },3000)
            if(isDown){
                s.index++;
                s.index=s.index>wheelSlidesDiv.length-1?wheelSlidesDiv.length-1:s.index;
            }else{
                s.index--;
                s.index=s.index<0?0:s.index;
            }
            wheelSlides.style.top=-s.index*500+"px";
            e.preventDefault();
        })

        function mouseWheel(obj,fn){
            var isDown=true;
            var isFirefox=navigator.userAgent.search("Firefox")==-1?false:true;
            if(isFirefox){
                obj.addEventListener("DOMMouseScroll",wheel,false);
            }else{
                obj.onmousewheel=wheel;
            }

            function wheel(e){
                var e=e||window.event;
                if(isFirefox){
                    isDown=e.detail>0?true:false;
                }else{
                    isDown=e.wheelDelta>0?false:true;
                }
                fn.call(obj,e,isDown);
            }
        }
    </script>
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/05/JavaScript滚轮事件的封装和滚轮轮播图/" data-id="cirm6lnlx000vkte845avxdpx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScriptCallback回调函数和事件委托的封装" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/03/JavaScriptCallback回调函数和事件委托的封装/" class="article-date">
  <time datetime="2016-08-03T11:02:34.000Z" itemprop="datePublished">2016-08-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/03/JavaScriptCallback回调函数和事件委托的封装/">JavaScriptCallback回调函数和事件委托的封装</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="callback回调函数"><a href="#callback回调函数" class="headerlink" title="callback回调函数"></a>callback回调函数</h3><p>由于JavaScript语句是按照次序执行的，因为动画未完成，动画之后的语句可能会产生错误或页面冲突。为避免这种情况，可以使用callback函数。</p>
<p><strong>callback回调函数</strong>就是放在另一个函数（parent）的参数列表中，作为参数传递给parent，然后在parent函数体的某个位置执行。</p>
<pre>
    function fn(a,b,fn2){
        console.log(a+b);
        fn2();
    }
    function callBack(){
        console.log("我是函数参数")
    }
    fn(a,b,callBack);//在这里就callBack就是回调函数
</pre>

<h3 id="事件委托的封装"><a href="#事件委托的封装" class="headerlink" title="事件委托的封装"></a>事件委托的封装</h3><pre>
    function targetHandle(type,child,parent,fn){
        //type事件类型 child
        if(parent.addEventListener){//判断父节点是否存在
            parent.addEventListener(type,function(e){
                var e=e||window.event;
                var target=e.target;
                //事件想绑定到child上
                for(var i=0;i&lt;child.length;i++){
                    //判断触发事件的元素是否是想绑定事件的元素或者是想绑定元素事件的子代
                    if(cp(target,child[i])){
                        fn.call(child[i]);//改变this指向，否则指向window
                    }
                }
            },false)
        }
    }

    function cp(child,parent){
        if(child==parent){
            return true;
        }else{
            while(child.parentNode){
                if(child.parentNode==parent){
                    return true;
                    break;
                }else{
                    child=child.parentNode;
                }
            }
        }
    }

    例如：
    var wrap=document.querySelector("ul");
    var lis=wrap.getElementsByTagName("li");
    targetHandle("click",lis,wrap,function(){
        console.log(this);
    })    
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/03/JavaScriptCallback回调函数和事件委托的封装/" data-id="cirm6lnlp000rkte8wvd7ygfg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript事件流、事件类型、事件对象和事件委托" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/30/JavaScript事件流、事件类型、事件对象和事件委托/" class="article-date">
  <time datetime="2016-07-30T08:28:55.000Z" itemprop="datePublished">2016-07-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/30/JavaScript事件流、事件类型、事件对象和事件委托/">JavaScript事件流、事件类型、事件对象和事件委托</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="JavaScript事件流"><a href="#JavaScript事件流" class="headerlink" title="JavaScript事件流"></a>JavaScript事件流</h3><p>事件流描述的是在页面中接受事件的顺序，分为<strong>事件冒泡</strong>和<strong>事件捕获</strong>。</p>
<p><code>事件冒泡</code>指事件一级一级的往上触发，一直到根元素为止</p>
<p><code>事件捕获</code>指事件从根元素开始触发，一直到触发元素的事件为止</p>
<h5 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">DOM0级事件	直接在元素上绑定，绑定多个后面会覆盖前面</span><br><span class="line">			例如：</span><br><span class="line">			wrap.onclick=function()&#123;</span><br><span class="line">				alert(&quot;a&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			wrap.onclick=function()&#123;</span><br><span class="line">				alert(&quot;b&quot;);//仅仅会弹出b，因为覆盖前面</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">DOM2级事件	可以多次绑定</span><br><span class="line"></span><br><span class="line">	addEventListener(type,fn,bol);		绑定事件</span><br><span class="line">	removeEventListener(type,fn,bol);	解除事件</span><br><span class="line">		type：事件类型</span><br><span class="line">		fn：  事件语句，必须是对应的非匿名函数</span><br><span class="line">		bol： 事件触发机制  false事件冒泡 true事件捕获</span><br><span class="line">		解除检测某个事件语句，type、fn、bol都必须对应相同</span><br><span class="line">		</span><br><span class="line">	attachEvent(type,fn);	IE上的DOM2级绑定事件</span><br><span class="line">	datachEvent(type,fn);	IE上的DOM2级解除事件</span><br><span class="line">	</span><br><span class="line">	wrap.addEventListener(&quot;click&quot;,function(e)&#123;</span><br><span class="line">		//匿名函数的匿名参数，表示触发的事件对象</span><br><span class="line">		//为了兼容IE低版本，需要使用window.event</span><br><span class="line">		var e=e||window.event;</span><br><span class="line">		console.log(e.currentTarget);</span><br><span class="line">	&#125;,false)</span><br></pre></td></tr></table></figure>
<p><strong>函数不添加()，就是执行代码块；添加()，就是执行结果</strong></p>
<h3 id="event对象"><a href="#event对象" class="headerlink" title="event对象"></a>event对象</h3><p>event对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p>
<p><strong>事件通常与函数结合使用，函数不会在事件发生前被执行！</strong></p>
<h5 id="event方法"><a href="#event方法" class="headerlink" title="event方法"></a>event方法</h5><p><strong>event.initEvent();</strong>初始化新创建的event对象的属性</p>
<p><strong>event.preventDefault();</strong>阻止默认事件</p>
<p><strong>event.stopPropagation();</strong>阻止事件继续派发</p>
<h3 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h3><h6 id="UI事件：当用户与页面上的元素交互时触发"><a href="#UI事件：当用户与页面上的元素交互时触发" class="headerlink" title="UI事件：当用户与页面上的元素交互时触发"></a>UI事件：当用户与页面上的元素交互时触发</h6><p><strong>load事件：</strong>当页面加载完毕之后触发</p>
<p><strong>resize事件：</strong>当浏览器窗口改变大小时候触发</p>
<p><strong>scroll事件：</strong>当用户滚动一个带滚动条的元素时触发</p>
<h6 id="鼠标事件：通过鼠标在页面上执行操作"><a href="#鼠标事件：通过鼠标在页面上执行操作" class="headerlink" title="鼠标事件：通过鼠标在页面上执行操作"></a>鼠标事件：通过鼠标在页面上执行操作</h6><p><strong>contextmenu事件：</strong>弹出右键菜单</p>
<p><strong>click事件：</strong>对象被点击时发生（在同一元素发生鼠标按下事件后又发生鼠标放开事件时才发生的）</p>
<p><strong>mousedown事件：</strong>鼠标被按下时触发</p>
<p><strong>mousemove事件：</strong>在鼠标指针移动时触发</p>
<p><strong>mouseup事件：</strong>在鼠标按键松开时触发</p>
<p><strong>mouseover事件：</strong>鼠标指针移动到指定的对象上时触发（鼠标指针穿过任何子元素，同样会触发事件）</p>
<p><strong>mouseenter事件：</strong>当鼠标指针进入（穿过）指定元素时触发（只有鼠标指针穿过被选元素时才会触发）</p>
<p><strong>mouseout事件：</strong>无论鼠标指针离开被选元素还是任何子元素都会触发mouseout事件（鼠标指针离开任何子元素，同样会触发事件）</p>
<p><strong>mouseleave事件：</strong>只有在鼠标指针离开被选元素时，才会触发mouseleave事件（只有在鼠标指针离开被选元素时，才会触发）</p>
<p><strong>mousewheel事件：</strong>非火狐滚轮事件</p>
<p><strong>DOMMouseScroll事件：</strong>火狐滚轮事件</p>
<h6 id="键盘事件：通过键盘在页面上执行操作"><a href="#键盘事件：通过键盘在页面上执行操作" class="headerlink" title="键盘事件：通过键盘在页面上执行操作"></a>键盘事件：通过键盘在页面上执行操作</h6><p><strong>keydown事件：</strong>某个键盘按键被按下触发</p>
<p><strong>keyup事件：</strong>某个键盘按键被松开触发</p>
<p><strong>keypress事件：</strong>某个键盘被按下并松开触发</p>
<h6 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h6><p><strong>focus事件：</strong>在对象获得焦点时发生</p>
<p><strong>blur事件：</strong>在对象失去焦点时发生</p>
<p><strong>change事件：</strong>当元素的值发生改变时在元素失去焦点时发生（可以作用于<code>&lt;input&gt;&lt;textarea&gt;&lt;keygen&gt;&lt;select&gt;</code>元素）</p>
<p><strong>input事件：</strong>当元素的值发生改变时立即发生（可以作用于<code>&lt;input&gt;&lt;textara&gt;</code>元素）</p>
<h6 id="触屏事件"><a href="#触屏事件" class="headerlink" title="触屏事件"></a>触屏事件</h6><p><strong>touch事件：</strong>在用户触摸屏幕（页面）时触发</p>
<h3 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h3><p><strong>clientX</strong> 当事件被触发时，鼠标指针的水平坐标。相对于可视区域</p>
<p><strong>clientY</strong> 当事件被触发时，鼠标指针的竖直坐标。相对于可视区域</p>
<p><strong>layerX</strong> 鼠标相对于定位父级border左上角的起始位置（包括border）</p>
<p><strong>layerY</strong> 鼠标相对于定位父级border左上角的起始位置（包括border）</p>
<p><strong>offsetX</strong> 鼠标相对于触发事件元素的位置，从内容区域的左上角开始定位（不包括border）</p>
<p><strong>offsetY</strong> 鼠标相对于触发事件元素的位置，从内容区域的左上角开始定位（不包括border）</p>
<p><strong>pageX</strong> 鼠标在页面上的位置，从页面左上角开始定位。相对于整个页面</p>
<p><strong>pageY</strong> 鼠标在页面上的位置，从页面左上角开始定位。相对于整个页面</p>
<p><strong>screenX</strong> 鼠标在显示屏幕上的坐标，相对于屏幕</p>
<p><strong>screenY</strong> 鼠标在显示屏幕上的坐标，相对于屏幕</p>
<p><strong>movementX</strong> 鼠标的移动距离 <code>mousemove事件特有</code></p>
<p><strong>movementY</strong> 鼠标的移动距离 <code>mousemove事件特有</code></p>
<p><strong>X</strong> 在IE里独有，跟layerX一个效果</p>
<p><strong>Y</strong> 在IE里独有，跟layerY一个效果</p>
<p><strong>alrKey</strong> 返回当事件被触发时，”ALT”是否被按下</p>
<p><strong>button</strong> 当事件被触发时，哪个鼠标按钮被点击（0鼠标左键，1鼠标中键，2鼠标右键）IE（1鼠标左键，4鼠标中键，2鼠标右键）</p>
<p><strong>bubbles</strong> 表明事件是否冒泡，是则返回true；否则返回false</p>
<p><strong>cancelable</strong> 表明事件是否拥有可取消的默认动作</p>
<p><strong>ctrlKey</strong> 当事件触发时，”CTRL”键是否被按下</p>
<p><strong>currentTarget</strong> 返回其监听器触发的节点，即当前处理该事件的元素、文档或窗口。也就是事件绑定的元素，和this是一样的（在捕获和气泡阶段非常有用，在这两个节点不同于target属性）</p>
<p><strong>defaultPrevented</strong> 是否阻止了默认事件</p>
<p><strong>detail</strong> 判断滚轮向上或向下 火狐浏览器 正值表示页面向下滑动</p>
<p><strong>wheelDelta</strong> 判断滚轮向上或向下 非火狐浏览器 负值表示页面向下滑动</p>
<p><strong>eventPhase</strong> 返回事件传播的当前阶段。分别为捕获阶段、正常事件派发和气泡阶段</p>
<p><strong>formElement</strong> 对于mouseover和mouseout事件，fromElement引用移出鼠标的元素</p>
<p><strong>isTrusted</strong> 表明当前事件是否由用户行为触发</p>
<p><strong>metaKey</strong> 当事件被触发时，”meta”键是否被按下</p>
<p><strong>path</strong> 层级关系</p>
<p><strong>relatedTarget</strong> 返回与事件的目标节点相关的节点。对于mouseover事件来说，该属性是鼠标指针移到目标节点上时所离开的那个节点。对于mouseout事件来说，该属性是离开目标时，鼠标指针进入的节点。对于其他类型的事件来说，这个属性没有用。</p>
<p><strong>returnValue</strong> IE属性，它的值比事件句柄的返回值优先级高。把这个属性设置为false，可以取消发生事件的源元素的默认动作。</p>
<p><strong>shiftKey</strong> 事件被触发时，”SHIFT”键是否被按下</p>
<p><strong>srcElement</strong> IE属性，对于生成事件的window对象、document对象或element对象的引用</p>
<p><strong>target</strong> 返回触发此事件的元素（事件的目标节点）</p>
<p><strong>timeStamp</strong> 返回一个时间戳，距离页面打开的毫秒数</p>
<p><strong>toElement</strong> 对于mouseover和mouseout事件，该属性引用移入鼠标的元素</p>
<p><strong>type</strong> 当前event对象表示的事件的名称（如：”click”、”submit”、”load”等）</p>
<p><strong>view</strong> 根元素</p>
<p><strong>which</strong> 返回哪个键被按下了</p>
<h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p>利用冒泡原理，把事件加到父级上，触发执行效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">	.btntarget&#123;</span><br><span class="line">		width:150px;</span><br><span class="line">		height:40px;</span><br><span class="line">		background-color:gray;</span><br><span class="line">		border:none;</span><br><span class="line">		font-size:20px;</span><br><span class="line">		border-radius:10px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;button class=&quot;btntarget&quot;&gt;增加一个li&lt;/button&gt;</span><br><span class="line">&lt;ul class=&quot;ultarget&quot;&gt;</span><br><span class="line">	&lt;li&gt;我是li1&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;我是li2&lt;/li&gt;</span><br><span class="line">	&lt;li&gt;我是li3&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	var btnli=document.querySelector(&quot;.btntarget&quot;);</span><br><span class="line">	var ul=document.querySelector(&quot;.ultarget&quot;);</span><br><span class="line">	var lis=ul.getElementsByTagName(&quot;li&quot;);</span><br><span class="line">	var num=4;</span><br><span class="line">	btnli.addEventListener(&quot;click&quot;,function()&#123;</span><br><span class="line">		var newLi=document.createElement(&quot;li&quot;);</span><br><span class="line">		newLi.innerHTML=&quot;我是li&quot;+num;</span><br><span class="line">		ul.appendChild(newLi);</span><br><span class="line">		num++;</span><br><span class="line">	&#125;,false)</span><br><span class="line">	ul.onclick=function()&#123;</span><br><span class="line">		var e=e||window.event;</span><br><span class="line">		var targets=e.target||e.srcElement;</span><br><span class="line">		for(var i=0;i&lt;lis.length;i++)&#123;</span><br><span class="line">			if(targets==lis[i])&#123;</span><br><span class="line">				alert(i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<pre>
    <style>
        .btntarget{
            width:150px;
            height:40px;
            background-color:gray;
            border:none;
            font-size:20px;
            border-radius:10px;
        }
    </style>
    <button class="btntarget">增加一个li</button>
    <ul class="ultarget"><li>我是li1</li><li>我是li2</li><li>我是li3</li></ul>
    <script>
        var btntarget=document.querySelector(".btntarget");
        var ultarget=document.querySelector(".ultarget");
        var listarget=ultarget.getElementsByTagName("li");
        var num=4;
        btntarget.addEventListener("click",function(){
            var newLi=document.createElement("li");
            newLi.innerHTML="我是li"+num;
            ultarget.appendChild(newLi);
            num++;
        },false)
        ultarget.onclick=function(){
            var e=e||window.event;
            var targets=e.target||e.srcElement;
            for(var i=0;i<listarget.length;i++){
                if(targets==listarget[i]){
                    alert(i);
                }
            }
        }
    </script>
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/30/JavaScript事件流、事件类型、事件对象和事件委托/" data-id="cirm6lnlk000okte8i7rx7ost" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScriptBOM浏览器对象模型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/30/JavaScriptBOM浏览器对象模型/" class="article-date">
  <time datetime="2016-07-30T01:11:21.000Z" itemprop="datePublished">2016-07-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/30/JavaScriptBOM浏览器对象模型/">JavaScriptBOM浏览器对象模型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="BOM简介"><a href="#BOM简介" class="headerlink" title="BOM简介"></a>BOM简介</h3><p>BOM：Browser Object Model 是浏览器对象模型，浏览器对象模型提供了独立与内容的，可以与浏览器窗口进行互动的对象结构，BOM由多个对象构成，其中代表浏览器窗口的window对象是BOM的顶层对象，其他对象都是该对象的子对象。</p>
<h3 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h3><h4 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h4><p>window是根对象，screen、navigator、location、history都属于window，只不过我们使用这些方法的时候可以省略前面的window。</p>
<p>window.close();关闭浏览器窗口</p>
<p>window.open();打开一个新的浏览器窗口或查找一个已命名的窗口</p>
<p>window.innerWidth;浏览器可视区的宽度（在IE8及以下有兼容问题）</p>
<p>window.innerHeight;浏览器可视区的高度（在IE8及以下有兼容问题）</p>
<h5 id="screen对象"><a href="#screen对象" class="headerlink" title="screen对象"></a>screen对象</h5><p>screen对象包含有关客户端显示屏幕的信息。</p>
<p>screen.width;显示器的宽</p>
<p>screen.height;显示器的高</p>
<p>screen.availWidth;浏览器的屏幕可用的宽度</p>
<p>screen.availHeight;浏览器的屏幕可用的高度</p>
<h5 id="navigator浏览器信息（-important）"><a href="#navigator浏览器信息（-important）" class="headerlink" title="navigator浏览器信息（!important）"></a>navigator浏览器信息（!important）</h5><p>navigator.appCodeName;浏览器的代码名</p>
<p>navigator.appVersion;浏览器的版本信息</p>
<p>navigator.platform;浏览器的操作系统和（或）硬件平台</p>
<p>navigator.userAgent;浏览器用于HTTP请求的用户代理头的值</p>
<h5 id="location路径信息"><a href="#location路径信息" class="headerlink" title="location路径信息"></a>location路径信息</h5><p>location.host;返回主机名及端口</p>
<p>location.name;返回主机名</p>
<p><strong>location.hash;</strong>锚 指#及其后面的值，只有一个值</p>
<p><strong>location.href;</strong>完整的链接（URL）</p>
<p>location.pathname;当前URL的路径部分</p>
<p>location.port;端口号</p>
<p>location.protocol;当前URL的协议</p>
<p><strong>location.search</strong>;问号（?）开始的URL（查询部分），到#为止</p>
<p>location.assign();加载新文档</p>
<p><strong>location.reload();</strong>重新加载当前页面</p>
<p>location.replace();用新文档替换当前文档</p>
<h5 id="history历史记录"><a href="#history历史记录" class="headerlink" title="history历史记录"></a>history历史记录</h5><p>history.length;返回浏览器历史列表中的URL数量</p>
<p>history.back();加载history列表中的前一个URL</p>
<p>history.forward();加载history列表中的下一个URL</p>
<p>history.go();加载history列表中的某个具体页面</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/30/JavaScriptBOM浏览器对象模型/" data-id="cirm6lnlb000jkte8yxcuapcd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScriptDOM元素对象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/26/JavaScriptDOM元素对象/" class="article-date">
  <time datetime="2016-07-26T11:56:41.000Z" itemprop="datePublished">2016-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/26/JavaScriptDOM元素对象/">JavaScriptDOM元素对象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在HTML DOM中，元素对象代表着一个HTML元素。</p>
<h3 id="DOM元素对象类型主要有："><a href="#DOM元素对象类型主要有：" class="headerlink" title="DOM元素对象类型主要有："></a>DOM元素对象类型主要有：</h3><p><strong>client</strong></p>
<p><strong>clientLeft</strong>左边框border-left-width</p>
<p><strong>clientTop</strong>上边框border-top-width</p>
<p><strong>clientHeight</strong>可视区的高度paddingTop+height+paddingBottom</p>
<p><strong>clientWidth</strong>可视区的宽度paddingLeft+width+PaddingRight</p>
<p><strong>offset</strong></p>
<p><strong>offsetWidth</strong>盒模型的宽borderLeft+paddingLeft+width+paddingRight+borderRight</p>
<p><strong>offsetHeight</strong>盒模型的高borderTop+paddingTop+height+paddingBottom+borderBottom</p>
<p><strong>offsetParent</strong>定位父级，离元素最近的设置了position属性的父元素（若无则为body）</p>
<p><strong>offsetLeft</strong>到定位父级左边框borderLeft的距离</p>
<p><strong>offsetTop</strong>到定位父级上边框borderTop的距离</p>
<p><strong>scroll</strong></p>
<p><strong>scrollTop</strong>滚动条向上滚动的距离（滚动条滚动到可视区上面的距离）</p>
<p><strong>scrollLeft</strong>滚动条向左滚动的距离（滚动条超出可视区左边的宽度）</p>
<p><strong>scrollHeight</strong>滚动条的高度paddingTop+height(内容高度)+paddingBottom，最小值为clientHeight。</p>
<p><strong>scrollWidth</strong>滚动条的宽度paddingLeft+width+paddingRight（当被包含元素的width超出包含元素的width时，包含元素的margin-right和padding-right都不起作用），最小值为clientWidth。</p>
<h3 id="DOM浏览器兼容问题"><a href="#DOM浏览器兼容问题" class="headerlink" title="DOM浏览器兼容问题"></a>DOM浏览器兼容问题</h3><p>主要兼容问题元素对象为scrollHeight、scrollTop和clientHeight，可通过三元运算来选择不同的设置来兼容不同浏览器。<code>保险起见，可以都设置三元运算来避免浏览器兼容问题</code></p>
<p>例如：<code>scrollTop=document.body.scrollTop?document.body.scrollTop:document.documentElement.scrollTop;</code></p>
<p><strong>注意：浏览器可视区的宽高只能使用<code>document.documentElement.clientWidth</code>和<code>document.documentElement.clientHeight</code>来表示</strong></p>
<h3 id="offsetLeft、offsetTop值的获取"><a href="#offsetLeft、offsetTop值的获取" class="headerlink" title="offsetLeft、offsetTop值的获取"></a>offsetLeft、offsetTop值的获取</h3><pre>
    function offset(obj){
        var offset={};
        offset.left=obj.offsetLeft;
        offset.top=obj.offsetTop;
        while(obj.offsetParent){
            obj=obj.offsetParent;
            offset.left+=(obj.offsetLeft+obj.clientLeft);
            offset.top+=(obj.offsetTop+obj.clientTop);
        }
        return offset;
    }
</pre>

<h3 id="onscroll事件"><a href="#onscroll事件" class="headerlink" title="onscroll事件"></a>onscroll事件</h3><p>onscroll事件在元素滚动条滚动时触发。</p>
<p><code>object.onscroll=function(){myScript};</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/26/JavaScriptDOM元素对象/" data-id="cirm6lnlg000lkte8zk5el0j9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript瀑布流" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/23/JavaScript瀑布流/" class="article-date">
  <time datetime="2016-07-23T09:49:27.000Z" itemprop="datePublished">2016-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/23/JavaScript瀑布流/">JavaScript瀑布流</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>瀑布流，又称瀑布流式布局。是比较流行的一种网站页面布局，视觉表现为参差不齐的多栏布局，随着页面滚动条向下滚动，这种布局还会不断加载数据块并附加至当前尾部。最早采用此布局的网站是Pinterest，逐渐在国内流行开来。</p>
<pre>
    &lt;style&gt;
        .flowul{
            position:relative;
            min-width:200px;
        }
        .flowul li{
            margin:0;
            padding:0;
            list-style-type:none;
            position:absolute;
            margin-bottom:10px;
            font-size:30px;
            text-align:center;
            color:black;
        }
    &lt;/style&gt;
    &lt;ul class="flowul"&gt;&lt;/ul&gt;
    &lt;script&gt;
        var flowul=document.querySelector(".flowul");
        var window_W;//定义窗口的宽度
        var col;//定义列数
        var old;//定义现在的列数
        var arr=[];

        getWidth();
        old=col;//先给其一个当前的列数

        function getWidth(){
            arr=[];
            window_W=document.body.currentStyle?document.body.currentStyle.width:getComputedStyle(document.body,[]).width;//根据浏览器类型，选择合适的代码获取宽度
            window_W=parseInt(window_W);
            col=parseInt((window_W-30)/400);
            flowul.width=col*210-10+"px";
            for(i=0;i&lt;col;i++){
                arr.push(0);
            }
        }

        //开始循环，排列出来所需要的li(及其个数)
        for(var i=0;i&lt;20;i++){
            var newLi=document.createElement("li");
            newLi.style.width=200+"px";
            newLi.style.backgroundColor="rgb("+getRandom(0,255)+","+getRandom(0,255)+","+getRandom(0,255)+")";
            newLi.innerHTML=i+1;
            var newHeight=getRandom(150,300);
            newLi.style.height=newHeight+"px";
            newLi.style.lineHeight=newHeight+"px";
            //判断数组最小值及其对应下标            
            var minH=arr[0];
            var minNum=0;
            for(var j=1;j&lt;arr.length;j++){
                if(minH&gt;arr[j]){
                    minH=arr[j];
                    minNum=j;
                }
            }
            newLi.style.left=minNum*210+"px";
            newLi.style.top=arr[minNum]+"px";
            flowul.appendChild(newLi);
            arr[minNum]+=newHeight+10;
        }
        ulHeight();
        //当浏览器宽度发生改变时，对li重新定位
        window.onresize=function(){
            getWidth();
            if(old==col){
                return;//当列数没有发生改变时，跳出
            }else{
                old=col;
            }
            //通过循环改变li的位置
            for(var i=0;i&lt;20;i++){
                var lis=document.querySelectorAll(".flowul li");
                lis[i].style.transitionDuration="3s";
                var newHeight=parseInt(lis[i].style.height);
                var minH=arr[0];
                var minNum=0;
                for(var j=1;j&lt;arr.length;j++){
                    if(minH&gt;arr[j]){
                        minH=arr[j];
                        minNum=j;
                    }
                }
                lis[i].style.left=210*minNum+"px";
                lis[i].style.top=arr[minNum]+"px";
                arr[minNum]+=newHeight+10;
            }
            ulHeight();            
        }
        function ulHeight(){
            var maxH=arr[0];
            var maxNum=0;
            for(var j=1;j&lt;arr.length;j++){
                if(minH&lt;arr[j]){
                    maxH=arr[j];
                    maxNum=j;
                }
            }
            flowul.style.height=arr[maxNum]+"px";
        }
        function getRandom(min,max){
            return Math.round(Math.random()*(max-min)+min);
        }
    &lt;/script&gt;
</pre>

<pre>
    <style>
        .flowul{
            position:relative;
            min-width:200px;
        }
        .flowul li{
            margin:0;
            padding:0;
            list-style-type:none;
            position:absolute;
            margin-bottom:10px;
            font-size:30px;
            text-align:center;
            color:black;
        }
    </style>
    <ul class="flowul"></ul>
    <script>
        var flowul=document.querySelector(".flowul");
        var window_W;//定义窗口的宽度
        var col;//定义列数
        var old;//定义现在的列数
        var arr=[];

        getWidth();
        old=col;//先给其一个当前的列数

        function getWidth(){
            arr=[];
            window_W=document.body.currentStyle?document.body.currentStyle.width:getComputedStyle(document.body,[]).width;//根据浏览器类型，选择合适的代码获取宽度
            window_W=parseInt(window_W);
            col=parseInt((window_W-30)/400);
            flowul.width=col*210-10+"px";
            for(i=0;i<col;i++){
                arr.push(0);
            }
        }

        //开始循环，排列出来所需要的li(及其个数)
        for(var i=0;i<20;i++){
            var newLi=document.createElement("li");
            newLi.style.width=200+"px";
            newLi.style.backgroundColor="rgb("+getRandom(0,255)+","+getRandom(0,255)+","+getRandom(0,255)+")";
            newLi.innerHTML=i+1;
            var newHeight=getRandom(150,300);
            newLi.style.height=newHeight+"px";
            newLi.style.lineHeight=newHeight+"px";
            //判断数组最小值及其对应下标            
            var minH=arr[0];
            var minNum=0;
            for(var j=1;j<arr.length;j++){
                if(minH>arr[j]){
                    minH=arr[j];
                    minNum=j;
                }
            }
            newLi.style.left=minNum*210+"px";
            newLi.style.top=arr[minNum]+"px";
            flowul.appendChild(newLi);
            arr[minNum]+=newHeight+10;
        }
        ulHeight();
        //当浏览器宽度发生改变时，对li重新定位
        window.onresize=function(){
            getWidth();
            if(old==col){
                return;//当列数没有发生改变时，跳出
            }else{
                old=col;
            }
            //通过循环改变li的位置
            for(var i=0;i<20;i++){
                var lis=document.querySelectorAll(".flowul li");
                lis[i].style.transitionDuration="3s";
                var newHeight=parseInt(lis[i].style.height);
                var minH=arr[0];
                var minNum=0;
                for(var j=1;j<arr.length;j++){
                    if(minH>arr[j]){
                        minH=arr[j];
                        minNum=j;
                    }
                }
                lis[i].style.left=210*minNum+"px";
                lis[i].style.top=arr[minNum]+"px";
                arr[minNum]+=newHeight+10;
            }
            ulHeight();            
        }
        function ulHeight(){
            var maxH=arr[0];
            var maxNum=0;
            for(var j=1;j<arr.length;j++){
                if(minH<arr[j]){
                    maxH=arr[j];
                    maxNum=j;
                }
            }
            flowul.style.height=arr[maxNum]+"px";
        }
        function getRandom(min,max){
            return Math.round(Math.random()*(max-min)+min);
        }
    </script>
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/23/JavaScript瀑布流/" data-id="cirm6lnm4000ykte8lxbj40l6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript图片轮播" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/22/JavaScript图片轮播/" class="article-date">
  <time datetime="2016-07-22T13:13:09.000Z" itemprop="datePublished">2016-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/22/JavaScript图片轮播/">JavaScript图片轮播</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre>
    &lt;style&gt;
        ul{
            margin:0;
            padding:0;
            list-style-type:none;
        }
        .imgoc{
            width:75%;
            margin:0 auto;
            overflow:hidden;
            position:relative;
        }
        .imgocdiv{
            width:600%;
            position:relative;
            left:-100%;
            transition-duration:.5s;
        }
        .imgocdiv img{
            width:16.66666666%;
            float:left;
        }
        .imgoc ul{
            text-align:center;
            position:absolute;
            width:100%;
            bottom:0px;
        }
        .imgoc ul li{
            display:inline-block;
            width:10px;
            height:10px;
            border-radius:50%;
            background-color:red;
            margin:4px;
        }
        .imgoc .imgactive{
            background-color:blue;
        }
        .imgocbtn{
            width:40px;
            height:45px;
            font-size:30px;
            position:absolute;
            top:50%;
            transform:translateY(-20px);
        }
        .imgocbtn1{
            left:0;
        }
        .imgocbtn2{
            right:0;
        }
    &lt;/style&gt;
    &lt;div class="imgoc"&gt;
        &lt;div class="imgocdiv"&gt;
            &lt;img src="http://www.jiujiuba.com/xxpict2/picnews/7132249442.jpg" /&gt;
            &lt;img src="http://pic.putaojiayuan.com/uploadfile/tuku/KaTongChaHua/12190515346673.jpg" /&gt;
            &lt;img src="http://img.ivsky.com/download/Photo/UploadFiles/2009-7/2009714102041365.jpg" /&gt;
            &lt;img src="http://www.dianmeng.com/moban/tupian/200808/2008080611515139.jpg" /&gt;
            &lt;img src="http://www.jiujiuba.com/xxpict2/picnews/7132249442.jpg" /&gt;
            &lt;img src="http://pic.putaojiayuan.com/uploadfile/tuku/KaTongChaHua/12190515346673.jpg" /&gt;
        &lt;/div&gt;
        &lt;ul&gt;
            &lt;li class="imgactive"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;/li&gt;
            &lt;li&gt;&lt;/li&gt;
            &lt;li&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;button class="imgocbtn imgocbtn1"&gt;&lt;&lt;/button&gt;
        &lt;button class="imgocbtn imgocbtn2"&gt;&gt;&lt;/button&gt;
    &lt;/div&gt;
    &lt;script&gt;
        var div=document.querySelector(".imgocdiv");
        var lis=document.querySelectorAll(".imgoc ul li");
        var last=document.querySelector(".imgocbtn1");
        var next=document.querySelector(".imgocbtn2");
        var thisIndex=0;
        for(var i=0;i&lt;lis.length;i++){
            lis[i].index=i;
            lis[i].onclick=function(){
                thisIndex=this.index;
                move();
            }
        }
        //给轮播设置自动切换
        var timer;
        function timing(){
            timer=setInterval(function(){
                thisIndex++;
                move();    
            },3000)
        }
        timing();
        //当鼠标在图片上停止切换，离开再运行
        div.onmouseover=function(){
            clearInterval(timer);
        }
        div.onmouseout=function(){
            timing();
        }
        last.onmouseover=function(){
            clearInterval(timer);
        }
        next.onmouseover=function(){
            clearInterval(timer);
        }
        last.onmouseout=function(){
            timing();
        }
        next.onmouseout=function(){
            timing();
        }
        //点击切换上一个
        lastMove();
        function lastMove(){
            last.onclick=function(){
                last.onclick="";
                thisIndex--;
                move();
                setTimeout(function(){
                    lastMove();
                },500)
            }
        }
        //点击切换下一个
        nextMove();
        function nextMove(){
            next.onclick=function(){
                next.onclick="";
                thisIndex++;
                move();
                setTimeout(function(){
                    nextMove();
                },500)
            }
        }
        function move(){
            for(var j=0;j&lt;lis.length;j++){
                lis[j].className="";
            }
            div.style.left=-(thisIndex+1)*100+"%";
            if(thisIndex==lis.length){
                thisIndex=0;
                lis[thisIndex].className="imgactive";
                setStyle();
            }else if(thisIndex==-1){
                thisIndex=lis.length-1;
                lis[thisIndex].className="imgactive";
                setStyle();
            }else{
                lis[thisIndex].className="imgactive";
            }
        }
        function setStyle(){
            setTimeout(function(){
                div.style.transitionDuration="0s";
                div.style.left=-(thisIndex+1)*100+"%";
                setTimeout(function(){
                    div.style.transitionDuration="0.5s";
                },30)
            },500)
        }
    &lt;/script&gt;
</pre>

<pre>
    <style>
        ul{
            margin:0;
            padding:0;
            list-style-type:none;
        }
        .imgoc{
            width:75%;
            margin:0 auto;
            overflow:hidden;
            position:relative;
        }
        .imgocdiv{
            width:600%;
            position:relative;
            left:-100%;
            transition-duration:.5s;
        }
        .imgocdiv img{
            width:16.66666666%;
            float:left;
        }
        .imgoc ul{
            text-align:center;
            position:absolute;
            width:100%;
            bottom:0px;
        }
        .imgoc ul li{
            display:inline-block;
            width:10px;
            height:10px;
            border-radius:50%;
            background-color:red;
            margin:4px;
        }
        .imgoc .imgactive{
            background-color:blue;
        }
        .imgocbtn{
            width:40px;
            height:45px;
            font-size:30px;
            position:absolute;
            top:50%;
            transform:translateY(-50%);
        }
        .imgocbtn1{
            left:0;
        }
        .imgocbtn2{
            right:0;
        }
    </style>
    <div class="imgoc">
        <div class="imgocdiv"><img src="http://www.jiujiuba.com/xxpict2/picnews/7132249442.jpg"><img src="http://pic.putaojiayuan.com/uploadfile/tuku/KaTongChaHua/12190515346673.jpg"><img src="http://img.ivsky.com/download/Photo/UploadFiles/2009-7/2009714102041365.jpg"><img src="http://www.dianmeng.com/moban/tupian/200808/2008080611515139.jpg"><img src="http://www.jiujiuba.com/xxpict2/picnews/7132249442.jpg"><img src="http://pic.putaojiayuan.com/uploadfile/tuku/KaTongChaHua/12190515346673.jpg">
        </div>
        <ul><li class="imgactive"></li><li></li><li></li><li></li>
        </ul>
        <button class="imgocbtn imgocbtn1"><</button>
        <button class="imgocbtn imgocbtn2">></button>
    </div>
    <script>
        var div=document.querySelector(".imgocdiv");
        var lis=document.querySelectorAll(".imgoc ul li");
        var last=document.querySelector(".imgocbtn1");
        var next=document.querySelector(".imgocbtn2");
        var thisIndex=0;
        for(var i=0;i<lis.length;i++){
            lis[i].index=i;
            lis[i].onclick=function(){
                thisIndex=this.index;
                move();
            }
        }
        //给轮播设置自动切换
        var timer;
        function timing(){
            timer=setInterval(function(){
                thisIndex++;
                move();    
            },3000)
        }
        timing();
        //当鼠标在图片上停止切换，离开再运行
        div.onmouseover=function(){
            clearInterval(timer);
        }
        div.onmouseout=function(){
            timing();
        }
        last.onmouseover=function(){
            clearInterval(timer);
        }
        next.onmouseover=function(){
            clearInterval(timer);
        }
        last.onmouseout=function(){
            timing();
        }
        next.onmouseout=function(){
            timing();
        }
        //点击切换上一个
        lastMove();
        function lastMove(){
            last.onclick=function(){
                last.onclick="";
                thisIndex--;
                move();
                setTimeout(function(){
                    lastMove();
                },500)
            }
        }
        //点击切换下一个
        nextMove();
        function nextMove(){
            next.onclick=function(){
                next.onclick="";
                thisIndex++;
                move();
                setTimeout(function(){
                    nextMove();
                },500)
            }
        }
        function move(){
            for(var j=0;j<lis.length;j++){
                lis[j].className="";
            }
            div.style.left=-(thisIndex+1)*100+"%";
            if(thisIndex==lis.length){
                thisIndex=0;
                lis[thisIndex].className="imgactive";
                setStyle();
            }else if(thisIndex==-1){
                thisIndex=lis.length-1;
                lis[thisIndex].className="imgactive";
                setStyle();
            }else{
                lis[thisIndex].className="imgactive";
            }
        }
        function setStyle(){
            setTimeout(function(){
                div.style.transitionDuration="0s";
                div.style.left=-(thisIndex+1)*100+"%";
                setTimeout(function(){
                    div.style.transitionDuration="0.5s";
                },30)
            },500)
        }
    </script>
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/22/JavaScript图片轮播/" data-id="cirm6lnlv000tkte8a92thnvd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript制作简易日历" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/22/JavaScript制作简易日历/" class="article-date">
  <time datetime="2016-07-22T11:31:37.000Z" itemprop="datePublished">2016-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/22/JavaScript制作简易日历/">JavaScript制作简易日历</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>制作日历原理就是通过对Date对象和BOM对象的混合使用来完成。</p>
<p>innerHTML和innerText的区别：</p>
<p>innerHTML会把整个语句当成代码来执行</p>
<p>innerText会把整个语句当成一个文本节点来处理</p>
<pre>
    &lt;style&gt;
        .divcalinder ul{
            margin:0;
            padding:0;
            list-style-type:none;
        }
        .divcalinder{
            width:434px;
            margin:0 auto;
        }
        .calinderset{
            text-align:center;
        }
        .calinderset button{
            width:100px;
            height:40px;
            margin:2px;
            font-size:20px;
            overflow:hidden;
        }
        .divmessage{
            height:30px;
            line-height:30px;
            font-size:20px;
            text-align:center;
            color:gold;
        }
        .ulweek{
            text-align:center;
            height:30px;
            border-bottom:1px solid white;
            overflow:hidden;
        }
        .ulweek li{
            float:left;
            color:black;
            width:62px;
            padding:5px 0;
            font-size:16px;
            color:white;
        }
        .ulday{
            overflow:hidden;
        }
        .ulday li{
            float:left;
            width:58px;
            height:58px;
            border:1px solid aqua;
            margin:1px;
            text-align:center;
            line-height:58px;
            font-size:18px;
            color:black;
        }
    &lt;/style&gt;
    &lt;div class="divcalinder"&gt;
        &lt;div class="calinderset"&gt;
            &lt;button&gt;上一年&lt;/button&gt;
            &lt;button&gt;上一月&lt;/button&gt;
            &lt;button&gt;下一月&lt;/button&gt;
            &lt;button&gt;下一年&lt;/button&gt;
        &lt;/div&gt;
        &lt;div class="divmessage"&gt;&lt;/div&gt;
        &lt;ul class="ulweek"&gt;
            &lt;li&gt;星期日&lt;/li&gt;
            &lt;li&gt;星期一&lt;/li&gt;
            &lt;li&gt;星期二&lt;/li&gt;
            &lt;li&gt;星期三&lt;/li&gt;
            &lt;li&gt;星期四&lt;/li&gt;
            &lt;li&gt;星期五&lt;/li&gt;
            &lt;li&gt;星期六&lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul class="ulday"&gt;&lt;/ul&gt;
    &lt;/div&gt;
    &lt;script&gt;
        var btns=document.querySelectorAll(".calinderset button");
        var message=document.querySelector(".divmessage");
        var ul=document.querySelector(".ulday");
        var time=new Object();
        var date1=new Date();
        time.y=date1.getFullYear();
        time.m=date1.getMonth();
        var newD=date1.getDate();
        var newM=date1.getMonth();
        var newY=date1.getFullYear();
        function calinder(){
            ul.innerHTML="";
            message.innerHTML="";
            message.innerHTML=time.y+"年"+(time.m+1)+"月";
            var first=new Date(time.y,time.m,1);
            time.first=first.getDay();
            var last=new Date(time.y,time.m+1,0);
            time.last=last.getDate();    
            for(var i=0;i&lt;time.first;i++){
                var newLi=document.createElement("li");
                newLi.style.backgroundColor="aqua";
                ul.appendChild(newLi);
            }
            for(var i=1;i&lt;=time.last;i++){
                var newLi=document.createElement("li");
                newLi.innerText=i;
                newLi.style.backgroundColor="lime";
                ul.appendChild(newLi);
                if(newD==i&&newM==time.m&&newY==time.y){
                    newLi.style.backgroundColor="red";
                }
            }
        }
        calinder();
        btns[1].onclick=function(){
            time.m--;
            if(time.m&lt;0){
                time.m=11;
                time.y--;
            }
            calinder();
        }
        btns[2].onclick=function(){
            time.m++;
            if(time.m&gt;11){
                time.m=0;
                time.y++;
            }
            calinder();
        }
        btns[0].onclick=function(){
            time.y--;
            calinder();
        }
        btns[3].onclick=function(){
            time.y++;
            calinder();
        }
    &lt;/script&gt;
</pre>

<pre>
    <style>
        .divcalinder ul{
            margin:0;
            padding:0;
            list-style-type:none;
        }
        .divcalinder{
            width:434px;
            margin:0 auto;
        }
        .calinderset{
            text-align:center;
        }
        .calinderset button{
            width:100px;
            height:40px;
            margin:2px;
            font-size:20px;
            overflow:hidden;
        }
        .divmessage{
            height:30px;
            line-height:30px;
            font-size:20px;
            text-align:center;
            color:gold;
        }
        .ulweek{
            text-align:center;
            height:30px;
            border-bottom:1px solid white;
            overflow:hidden;
        }
        .ulweek li{
            float:left;
            color:black;
            width:62px;
            padding:5px 0;
            font-size:16px;
            color:white;
        }
        .ulday{
            overflow:hidden;
        }
        .ulday li{
            float:left;
            width:58px;
            height:58px;
            border:1px solid aqua;
            margin:1px;
            text-align:center;
            line-height:58px;
            font-size:18px;
            color:black;
        }
    </style>
    <div class="divcalinder">
        <div class="calinderset"><button>上一年</button><button>上一月</button><button>下一月</button><button>下一年</button>
        </div>
        <div class="divmessage"></div>
        <ul class="ulweek"><li>星期日</li><li>星期一</li><li>星期二</li><li>星期三</li><li>星期四</li><li>星期五</li><li>星期六</li>
        </ul>
        <ul class="ulday"></ul>
    </div>
    <script>
        var btns=document.querySelectorAll(".calinderset button");
        var message=document.querySelector(".divmessage");
        var ul=document.querySelector(".ulday");
        var time=new Object();
        var date1=new Date();
        time.y=date1.getFullYear();
        time.m=date1.getMonth();
        var newD=date1.getDate();
        var newM=date1.getMonth();
        var newY=date1.getFullYear();
        function calinder(){
            ul.innerHTML="";
            message.innerHTML="";
            message.innerHTML=time.y+"年"+(time.m+1)+"月";
            var first=new Date(time.y,time.m,1);
            time.first=first.getDay();
            var last=new Date(time.y,time.m+1,0);
            time.last=last.getDate();    
            for(var i=0;i<time.first;i++){
                var newLi=document.createElement("li");
                newLi.style.backgroundColor="aqua";
                ul.appendChild(newLi);
            }
            for(var i=1;i<=time.last;i++){
                var newLi=document.createElement("li");
                newLi.innerText=i;
                newLi.style.backgroundColor="lime";
                ul.appendChild(newLi);
                if(newD==i&&newM==time.m&&newY==time.y){
                    newLi.style.backgroundColor="red";
                }
            }
        }
        calinder();
        btns[1].onclick=function(){
            time.m--;
            if(time.m<0){
                time.m=11;
                time.y--;
            }
            calinder();
        }
        btns[2].onclick=function(){
            time.m++;
            if(time.m>11){
                time.m=0;
                time.y++;
            }
            calinder();
        }
        btns[0].onclick=function(){
            time.y--;
            calinder();
        }
        btns[3].onclick=function(){
            time.y++;
            calinder();
        }
    </script>
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/22/JavaScript制作简易日历/" data-id="cirm6lnm2000xkte8oowyhdwh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScriptDOM文档对象类型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/21/JavaScriptDOM文档对象类型/" class="article-date">
  <time datetime="2016-07-21T15:04:05.000Z" itemprop="datePublished">2016-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/21/JavaScriptDOM文档对象类型/">JavaScriptDOM文档对象类型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="DOM文档对象类型"><a href="#DOM文档对象类型" class="headerlink" title="DOM文档对象类型"></a>DOM文档对象类型</h3><p><strong>childNodes</strong>子节点，获取所有的文本和子元素</p>
<p><strong>children</strong>子元素</p>
<p><strong>parentNode</strong>父节点</p>
<p><strong>nextElementSibling</strong>同级的下一个子元素</p>
<p><strong>previousElementSibling</strong>同级的上一个子元素</p>
<p><strong>nextSibling</strong>同级的下一个节点</p>
<p><strong>previousSibling</strong>同级的上一个节点</p>
<pre>
    console.log(uls.childNodes);

    console.log(uls.children);

    console.log(uls.parentNode);

    console.log(lis[1].nextElementSibling);

    console.log(lis[1].previousElementSibling);

    console.log(lis[1].nextSibling);

    console.log(lis[1].previousSinling);
</pre>

<p><strong>createElement</strong>创建元素</p>
<p><strong>appendChild</strong>插入元素</p>
<p>如果插入的元素原文档里没有，那就是直接插入；如果有，那就是把要插入的元素从原位置移动到被插入元素的最后面。</p>
<p><strong>removeChild</strong>删除子元素</p>
<p><strong>insertBefore(ele1,ele2)</strong>在ele2前插入</p>
<p>ele1要插入的元素，如果原先在文档里有此元素，那么就是调换位置，如果没有，那就是插入</p>
<p>ele2插入在谁前面</p>
<p><strong>hasChildNodes</strong>检查元素是否有子节点</p>
<p><strong>replaceChild(ele1,ele2)</strong>替换元素</p>
<p>ele1替换的元素，如果原先在文档里有此元素，那么对ele1来说就是换个位置</p>
<p>ele2被替换的元素，替换后被删除</p>
<pre>
    var newDiv=document.createElement("div");

    uls.appendChild(newDiv);

    uls.removeChild(lis[2]);

    uls.insertBefore(newDiv,lis[0]);

    console.log(uls.hasChildNodes());//返回布尔值

    uls.replaceChild(newDiv,lis[1]);
</pre>

<p><strong>getAttribute</strong>获取元素的属性值</p>
<p><strong>setAttribute</strong>更改原有属性的属性值/创建新的属性</p>
<p>setAttribute假如元素有该属性，则为更改原有属性的属性值</p>
<p>setAttribute假如元素无该属性，则为创建新的属性</p>
<p><strong>removeAttribute</strong>删除属性</p>
<p><strong>hasAttribute</strong>检查是否有此属性</p>
<p><strong>cloneNode()</strong>复制元素</p>
<p>cloneNode(true)复制整个元素，包括子节点</p>
<p>cloneNode(false)复制元素本身，不包括子节点</p>
<p>cloneNode接收的参数默认为false，<code>只能复制元素或节点，不能复制事件</code>，也就证明了复制的元素和原元素不全等</p>
<pre>
    &lt;div class="imdiv" index="5"&gt;&lt;/div&gt;

    var imdiv=document.querySelector(".imdiv");

    console.log(imdiv.getAttribute("index"));

    imdiv.setAttribute("index",90);//改变原有属性值

    imdiv.setAttribute("width",100);//创建新的属性

    imdiv.removeAttribute("index");

    console.log(imdiv.hasAttribute("index"));//返回布尔值

    var newDiv=imdiv.cloneNode(true);

    document.body.appendChild(newDiv);
</pre>

<p>DOM简易应用：</p>
<pre>
    &lt;button class="dombtn"&gt;增加一个li&lt;/button&gt;
    &lt;ul class="domul"&gt;&lt;/ul&gt;
    &lt;script&gt;
        var btn=document.querySelector(".dombtn");
        var ul=document.querySelector(".domul");
        var sum=1;
        btn.onclick=function(){
            var newLi=document.createElement("li");
            newLi.innerHTML="我是第"+sum+"个li";
            sum++;
            var newSpan=document.createElement("span");
            newSpan.innerHTML="删除";
            newSpan.style.color="blue";
            newLi.appendChild(newSpan);
            ul.appendChild(newLi);
            newSpan.onclick=function(){
                this.parentNode.parentNode.removeChild(this.parentNode);
            }
        }
    &lt;/script&gt;
</pre>

<pre>
    <button class="dombtn">增加一个li</button>
    <ul class="domul"></ul>
    <script>
        var btn=document.querySelector(".dombtn");
        var ul=document.querySelector(".domul");
        var sum=1;
        btn.onclick=function(){
            var newLi=document.createElement("li");
            newLi.innerHTML="我是第"+sum+"个li";
            sum++;
            var newSpan=document.createElement("span");
            newSpan.innerHTML="删除";
            newSpan.style.color="blue";
            newLi.appendChild(newSpan);
            ul.appendChild(newLi);
            newSpan.onclick=function(){
                this.parentNode.parentNode.removeChild(this.parentNode);
            }
        }
    </script>
</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/07/21/JavaScriptDOM文档对象类型/" data-id="cirm6lnlh000mkte83w78gh6c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/08/06/JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage/">JavaScriptTouch事件、陀螺仪、加速度、cookie和localStorage</a>
          </li>
        
          <li>
            <a href="/2016/08/05/JavaScript滚轮事件的封装和滚轮轮播图/">JavaScript滚轮事件的封装和滚轮轮播图</a>
          </li>
        
          <li>
            <a href="/2016/08/03/JavaScriptCallback回调函数和事件委托的封装/">JavaScriptCallback回调函数和事件委托的封装</a>
          </li>
        
          <li>
            <a href="/2016/07/30/JavaScript事件流、事件类型、事件对象和事件委托/">JavaScript事件流、事件类型、事件对象和事件委托</a>
          </li>
        
          <li>
            <a href="/2016/07/30/JavaScriptBOM浏览器对象模型/">JavaScriptBOM浏览器对象模型</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 刘晓萌<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>